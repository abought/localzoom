<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
        integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

  <link rel="stylesheet" href="dist/css/app.css">

  <!-- Necessary includes for LocusZoom.js -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locuszoom@0.8.0/dist/locuszoom.css" type="text/css"/>
  <script src="https://cdn.jsdelivr.net/npm/locuszoom@0.8.0/dist/locuszoom.vendor.min.js" type="application/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/locuszoom@0.8.0/dist/locuszoom.app.min.js" type="application/javascript"></script>

  <!-- TODO: Move to app bundle -->
  <script src="util/dalliance-tabix-reader.js" type="application/javascript"></script>

  <title>LocusZoom.js ~ Plot your own Tabixed Data</title>

  <style>
    body {
      background-color: #FAFAFA;
      margin: 0px 20px;
    }

    img {
      max-width: 100%;
      box-sizing: border-box;
    }

    .placeholder-plot {
      width:100%;
      height:400px;
      border-style: dashed;
    }
  </style>

</head>

<body>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1 style="margin-top: 1em;"><strong>LocusZoom.js</strong></h1>

      <h3 style="color: #777">Using LZ.js without an API</h3>

      <hr>

      <h2>Instructions</h2>
      <div>
        This is a demonstration of loading GWAS results via the web browser, fetching only the data
        required for that region. It relies on four assumptions:
        <ol>
          <li>Your data has been stored in a compressed format, and indexed using Tabix. The index
            must be in the same path, with the suffix <em>.tbi</em></li>
          <li>The data is hosted in a place that is reachable by web browser (eg local files or a
            service such as S3)</li>
          <li>If using a remote URL, the host location must support byte range requests. (<a
              href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests#Checking_if_a_server_supports_partial_requests">how
            to check</a>)
          </li>
          <li>Your file contains two key columns of information: a SNP marker in the format
            <code>chr:pos_ref/alt</code>, and a p-value (or -log10 pvalue) for each row.
            <em>Client-side plots cannot be generated from rsIDs.</em></li>
        </ol>

        <p>This service is designed to efficiently fetch only the data needed for the plot region of
        interest. Therefore, it cannot generate summary views that would require processing the
          entire file (eg Manhattan plots).</p>

        <p>LD and overlay information is based on <strong>build GRCh37</strong>. Exercise caution
          when interpreting plots based on a GWAS with positions from a different build.</p>
      </div>
    </div>
  </div>

  <hr>

  <div class="row">
    <div class="col-md-8">
      <div id="lz-plot" class="lz-container-responsive">
        <div class="placeholder-plot" style="display:table;">
          <span class="text-center" style="display: table-cell; vertical-align:middle">Please add a GWAS track to continue</span>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div id="choose-gwas"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <footer style="text-align: center;">
        &copy; Copyright 2018 <a href="https://github.com/statgen">The University of Michigan Center for Statistical
        Genetics</a><br>
      </footer>
    </div>
  </div>
</div>

<script src="dist/js/chunk-vendors.js"></script>
<script src="dist/js/app.js"></script>

</body>
</html>
